#!/bin/bash

# ------------------------------------------------------------------------------

alias ~='cd ~'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias cd..='cd ..'

# ------------------------------------------------------------------------------

alias dl='cd ~/Downloads'
alias dt='cd ~/Desktop'
alias p='cd ~/Projects'

# ------------------------------------------------------------------------------

alias :q='exit'
alias c='clear'
alias cc='pbcopy'
alias ch='history -c && > ~/.bash_history'
alias g='git'
alias hosts='sudo $EDITOR /etc/hosts'
alias ip='dig +short myip.opendns.com @resolver1.opendns.com'
alias localip='ipconfig getifaddr en0'
alias week='date +%V'
alias l='ls -l'
alias la='ls -la'
alias lsd="ls -l | grep --color=never '^d'"
alias m='man'
alias map='xargs -n1'
alias n='npm'
alias q='exit'
alias rm='rm -rf'

# ------------------------------------------------------------------------------

# Homebrew
# http://brew.sh/

if command -v 'brew' &> /dev/null; then
    alias brewd='brew doctor'
    alias brewi='brew install'
    alias brewr='brew uninstall'
    alias brews='brew search'
    alias brewu='brew update \
                 && brew upgrade --all \
                 && brew cleanup \
                 && brew cask cleanup'
fi

# ------------------------------------------------------------------------------

# Clear DNS cache

alias clear-dns-cache='sudo dscacheutil -flushcache; \
                       sudo killall -HUP mDNSResponder'

# ------------------------------------------------------------------------------

# Empty Trash

# Empty the trash, the main HDD and on all mounted volumes
# and clear Apple’s system logs to improve shell startup speed

alias empty-trash='sudo rm -frv /Volumes/*/.Trashes; \
                   sudo rm -frv ~/.Trash; \
                   sudo rm -frv /private/var/log/asl/*.asl; \
                   sqlite3 ~/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV* "delete from LSQuarantineEvent"'

# ------------------------------------------------------------------------------

# Copy my public key to the pasteboard

alias pubkey="more ~/.ssh/id_rsa.pub | pbcopy | printf '=> Public key copied to pasteboard.\n'"

# ------------------------------------------------------------------------------

# Remove duplicates in the “Open With” menu

alias lscleanup='/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user \
  && killall Finder'

# ------------------------------------------------------------------------------

# Kill all the tabs in Chrome to free up memory
# [C] explained: http://www.commandlinefu.com/commands/view/402/exclude-grep-from-your-grepped-output-of-ps-alias-included-in-description

alias chromekill="ps ux | grep '[C]hrome Helper --type=renderer' | grep -v extension-process | tr -s ' ' | cut -d ' ' -f2 | xargs kill"

# ------------------------------------------------------------------------------

# Stuff I never really use but cannot delete either because of http://xkcd.com/530/

alias stfu="osascript -e 'set volume output muted true'"
alias pumpitup="osascript -e 'set volume 4'"

# ------------------------------------------------------------------------------

# Hide/Show desktop icons

alias hide-desktop='defaults write com.apple.finder CreateDesktop -bool false && killall Finder'
alias show-desktop='defaults write com.apple.finder CreateDesktop -bool true && killall Finder'

# ------------------------------------------------------------------------------

# Hide/Show hidden files in Finder

alias hide='defaults write com.apple.finder AppleShowAllFiles -bool false && killall Finder'
alias show='defaults write com.apple.finder AppleShowAllFiles -bool true && killall Finder'

# ------------------------------------------------------------------------------

# Merge PDF files
# Usage: `mergepdf -o output.pdf input{1,2,3}.pdf`

alias mergepdf='/System/Library/Automator/Combine\ PDF\ Pages.action/Contents/Resources/join.py'

# ------------------------------------------------------------------------------

# Lock screen

alias afk='/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend'

# ------------------------------------------------------------------------------

# Update

alias update='sudo softwareupdate --install --all \
              && brew update \
              && brew upgrade --all \
              && brew cleanup \
              && npm install -g npm \
              && npm update -g'
